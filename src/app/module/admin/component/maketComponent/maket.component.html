
<style>
  .handle {
    position: absolute;
    top: 0px;
    left: 0px;
    color: #ccc;
    cursor: move;
    width: 24px;
    height: 24px;
  }
  .drag-box {
    transition: box-shadow 200ms cubic-bezier(0, 0, 0.2, 1);
    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),
    0 2px 2px 0 rgba(0, 0, 0, 0.14),
    0 1px 5px 0 rgba(0, 0, 0, 0.12);
  }

  .drag-box:active {
    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),
    0 8px 10px 1px rgba(0, 0, 0, 0.14),
    0 3px 14px 2px rgba(0, 0, 0, 0.12);
  }
</style>

<div #component cdkDrag cdkDragBoundary=".boundary"
     [cdkDragFreeDragPosition]="dragPosition"
     [ngStyle]="{'height.px':height,'width.px':width}"
     [cdkDragDisabled]="isResized"
     class=" drag-box absolute border border-solid border-primary-light hover:border-2 bg-white overflow-hidden z-10"
     [ngClass]="{
      'border-red-500 border-2' : isSelected,
      'z-10': !(isSelected && isDragged),
      'justify-start': textPosition.horizontal === 'left',
      'justify-center': (textPosition.horizontal === 'center'),
      'justify-end': textPosition.horizontal === 'right',
      'justify-self-stretch': textPosition.horizontal === 'justify',
      'items-start' : textPosition.vertical === 'top',
      'items-end': textPosition.vertical === 'bottom',
      'items-center': (textPosition.vertical === 'center')
     }"

     (mousedown)="selected($event)"
     (contextmenu)="rightClick($event)"
     (cdkDragStarted)="isDragged = true"
     (cdkDragEnded)="isDragged = false"
     (mouseenter)="isHover = true"
     (mouseleave)="!isDragged ? isHover = false : isHover = true">

  <div class="handle opacity-50" cdkDragHandle>
    <svg width="24px" fill="currentColor" viewBox="0 0 24 24">
      <path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path>
      <path d="M0 0h24v24H0z" fill="none"></path>
    </svg>
  </div>

    <div *ngIf="componentType != 'select' && componentType != 'upload'" class="w-full h-full"
         [innerHTML]="sanitizer.bypassSecurityTrustHtml(value ? value : placeHolder + (inputType ? ' ' + inputType : ''))">
    </div>
    <div *ngIf="componentType === 'select'" class="w-full h-full"
         [innerHTML]="sanitizer.bypassSecurityTrustHtml(placeHolder)">
    </div>
    <mat-icon *ngIf="componentType === 'upload'" class="ml-4 mt-2 text-blue-500 scale-[2.0]">
      cloud_upload
    </mat-icon>
  <mat-icon *ngIf="isResizable"
            (mousedown)="mouseDown($event)"
            class="text-red-800 scale-50 absolute right-0 bottom-0 translate-x-2 translate-y-2 cursor-nw-resize z-10">
    network_cell
  </mat-icon>

</div>
